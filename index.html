<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Моя Книга</title>
    <!-- Подключаем всё из интернета, чтобы папки js и css не мешались -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/clsource/dflip-lite-samples@master/css/dflip.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/clsource/dflip-lite-samples@master/css/themify-icons.css">
    <style>
        body, html { margin: 0; padding: 0; height: 100%; background-color: #333; overflow: hidden; }
        #book-container { height: 100vh; width: 100vw; }
        #error-msg { color: white; text-align: center; margin-top: 50px; font-family: sans-serif; display: none; }
    </style>
</head>
<body>

    <div id="error-msg">
        <h1>Упс! Файл не найден.</h1>
        <p>Убедись, что в папке <b>pdfs</b> лежит файл с названием <b>book.pdf</b></p>
    </div>

    <div id="book-container"></div>

    <!-- Библиотеки -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/clsource/dflip-lite-samples@master/js/dflip.min.js"></script>

    <script>
        jQuery(document).ready(function () {
            const fixedPath = "pdfs/book.pdf"; // Ищем только этот файл

            // Проверяем, есть ли файл, прежде чем запускать
            fetch(fixedPath).then(response => {
                if (response.ok) {
                    jQuery("#book-container").dfFlipbook({
                        source: fixedPath,
                        webgl: true,
                        soundEnable: true
                    });
                } else {
                    document.getElementById('error-msg').style.display = 'block';
                }
            }).catch(() => {
                document.getElementById('error-msg').style.display = 'block';
            });
        });
    </script>
</body>
</html>
